---
import { projects } from '@/data/projects'; // Importamos los datos reales

interface Props {
  t: (key: string) => string;
  lang: string; // Necesitamos saber el idioma para elegir la descripción correcta
}

const { t, lang } = Astro.props;
---

<section id="projects" class="py-20 px-4">
    <div class="max-w-6xl mx-auto">
        <h2 class="text-3xl font-bold text-center text-slate-900 dark:text-white mb-16">{t('projects.title')}</h2>
        
        <div class="grid md:grid-cols-3 gap-8">
            {projects.map((p) => (
                <article class="group relative bg-white dark:bg-slate-800 rounded-xl overflow-hidden border border-slate-200 dark:border-slate-700 hover:shadow-xl transition-all duration-300 flex flex-col">
                    
                    {/* Imagen con efecto zoom */}
                    <div class="h-48 w-full overflow-hidden">
                        <img 
                            src={p.image} 
                            alt={p.title} 
                            class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"
                        />
                    </div>

                    <div class="p-6 flex flex-col flex-1">
                        {/* Tags */}
                        <div class="flex flex-wrap gap-2 mb-3">
                            {p.tags.slice(0, 3).map(tag => (
                                <span class="text-xs font-semibold px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-md">
                                    {tag}
                                </span>
                            ))}
                        </div>

                        <h3 class="text-xl font-bold text-slate-900 dark:text-white mb-2">{p.title}</h3>
                        
                        {/* Descripción según idioma */}
                        <p class="text-slate-600 dark:text-slate-400 text-sm mb-4 line-clamp-3 flex-1">
                            {lang === 'es' ? p.description.es : p.description.en}
                        </p>

                        <a href={`/${lang}/projects/${p.id}`} class="inline-flex items-center text-sm font-bold text-slate-900 dark:text-white hover:text-blue-600 dark:hover:text-blue-400 transition-colors mt-auto">
                            {t('projects.view')} →
                        </a>
                    </div>
                </article>
            ))}
        </div>
    </div>
</section>